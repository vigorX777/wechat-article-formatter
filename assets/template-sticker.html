<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>贴纸风格预览</title>
</head>
<body style="background-color: #fff9f7; padding: 20px;">
    <!-- 复制提示区域 -->
    <div style="max-width: 677px; margin: 0 auto 20px auto; background: linear-gradient(135deg, #D97757 0%, #c4623e 100%); padding: 15px 20px; border-radius: 8px; text-align: center; font-family: sans-serif;">
        <p style="margin:0; color: #ffffff; font-weight: bold;">🏷️ 贴纸风格</p>
        <p style="margin: 8px 0 0 0; color: rgba(255,255,255,0.9); font-size: 14px;">点击下方按钮一键复制，然后直接粘贴到公众号编辑器中。</p>
    </div>
    
    <!-- 文章内容容器 -->
    <div id="output" style="max-width: 677px; margin: 0 auto; font-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei UI', 'Microsoft YaHei', Arial, sans-serif;">

<!-- ====================================== -->
<!-- 在此插入转换后的 HTML 内容               -->
<!-- ====================================== -->

{{CONTENT}}

<!-- ====================================== -->
<!-- 内容结束                                -->
<!-- ====================================== -->

    </div>

    <!-- 一键复制按钮 -->
    <button class="copy-btn" style="position: fixed; bottom: 30px; right: 30px; padding: 14px 28px; background: linear-gradient(135deg, #D97757 0%, #c4623e 100%); color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold; z-index: 1000; box-shadow: 0 4px 12px rgba(217, 119, 87, 0.3);" onclick="copyContent()">
        📋 复制全文
    </button>

    <script>
    async function copyContent() {
      const content = document.getElementById('output');
      const btn = document.querySelector('.copy-btn');
      
      try {
        // Primary: Clipboard API (preserves HTML format)
        const htmlContent = content.innerHTML;
        const blob = new Blob([htmlContent], { type: 'text/html' });
        const textBlob = new Blob([content.innerText], { type: 'text/plain' });
        
        await navigator.clipboard.write([
          new ClipboardItem({
            'text/html': blob,
            'text/plain': textBlob
          })
        ]);
        
        btn.textContent = '✅ 已复制';
        btn.classList.add('copied');
      } catch (err) {
        // Fallback: legacy select + execCommand
        const range = document.createRange();
        range.selectNodeContents(content);
        const selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        document.execCommand('copy');
        selection.removeAllRanges();
        
        btn.textContent = '✅ 已复制';
        btn.classList.add('copied');
      }
      
      setTimeout(() => {
        btn.textContent = '📋 复制全文';
        btn.classList.remove('copied');
      }, 2000);
    }
    </script>
</body>
</html>
